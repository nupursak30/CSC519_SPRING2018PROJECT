# Milestone1 learning experience

### Divyapuja Vitonde (davitond):
1. In Jenkins-server , while saving aws_access_key and aws_security_key from Ansible VM, the keys were getting saved temporarily only. using lookup explicitely solved the issue. <br />
2. From Jenkins-server, after creating new instance, new instance was not getting connected and on every module run it was throwing an error as shared connection closed, this is because, new instance requires python for gather-facts. We did gather-facts as false and added usr/bin/python in inventory. <br />
3. While creating new instance inventory file was empty, resolved by adding hostname while creating inventory file. Also maintaining roles for this task was tedious <br />

### Neha Pradeep Sakhalkar (nsakhal2)
1. Bypassing the setup wizard of Jenkins proved to be challenging. Due to version differences, the setup wizard was not getting bypassed. Finally, by enabling some firewall rule the setup wizard was bypassed.
2. Setting the environment variables across provisioned VMs to set the mongodb, mysql and AWS credentials proved to be a tedious task, the environment variables were not getting set properly, leading to authentication errors. To resolve this, a `credentials.ini` file was created on the Ansible server for storing all the necessary credentials. 
3. By default, if Jenkins is opened using GUI, it asks for `Install Suggested Plugins` where all the necessary plugins can be installed. However, as the Jenkins setup wizard was going to be bypassed, this was not an option. So,for determining which plugins are necessary for building checkbox.io and iTrust application, a temporary checkbox.io and iTrust job was built using the Jenkins server Web GUI and the config files of the built jobs were then inspected to determine the plugin required. 

### Cherukeshi Machan (cmachan):
1. While running the job build generated by jenkins-job-builder , there was an error coming stating 'sudo: no tty present and no askpass program specified'. The Error was because there was no sudo access to Jenkin user. This error was resolved by giving sudo access to Jenkin in sudoers file.
2. In ansible script role for jenkins-job-builder,handlers Reload checkboxjenkins-jobs and Reload itrustjenkins-jobs (creates the build job) were running after the script runbuild.yml that do the build executions. Therefore command of meta: flush_handlers  was used so that handlers are executed before any other further task.

### Nupur Pradeep Sakhalkar(nsakhal)
1. One of the major issues during automating everything using ansible was that Ansible by default considers that the remote machines has python already installed on it. But, a newly created EC2 instance doesn't have python pre-installed on it. So, this led to a bootstrap issue in which python can be installed using Ansible on remote EC2 instance but ansible needs python to be installed on it so that it can run any of its module on EC2 instances. So, finally, this issue was solve by using 'raw'. It can be run using ansible and it doesn't need python to be installed on the remote machine. Hence, this was used to install python on EC2 instances, thereby solving the bootstrap issue.
2. The inventory file is read at the start of the Ansible playbook and hence even after the IP addresses are inserted dynamically inside the inventory file, it still doesn't get read by Ansible. So, in order to solve this issue, 'meta' was used wherein you have an option of refreshing the inventory so now Ansible reads the updated inventory file.
3. Environment variables were not been transferred from local server to remote VM directly by using the 'export' command or by editing the .bashrc file. Here, ansible lookup and maintaining a .ini file which can be read using 'lookup' served to be useful while dealing with setting the environment issue. 
